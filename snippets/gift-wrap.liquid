{%- comment -%}
Gift wrap snippet (UI only).
Required section settings:
- section.settings.enable_gift_wrap: boolean to show/hide the option
- section.settings.gift_wrap_product: product object for gift wrapping
- section.settings.gift_wrap_label: customizable checkbox label
- section.settings.placeholder_to, section.settings.placeholder_from, section.settings.placeholder_message: input placeholders
{%- endcomment -%}

{%- if section.settings.enable_gift_wrap and section.settings.gift_wrap_product != blank -%}
  <div class="gift-wrap-option product__gift-wrap" data-gift-wrap>
    <label class="gift-wrap__label">
      <input
        type="checkbox"
        id="gift-wrap-checkbox"
        name="properties[_GiftWrap]"
        value="Yes"
        aria-controls="gift-wrap-fields"
        aria-expanded="false"
        data-gift-wrap-toggle
      />
      <span class="gift-wrap__text">{{ section.settings.gift_wrap_label | default: "Add gift wrapping?" }}</span>
    </label>

    <div id="gift-wrap-fields" class="gift-wrap__fields" style="display:none;">
      <input 
        type="hidden" 
        id="gift-wrap-variant-id" 
        value="{{ section.settings.gift_wrap_product.selected_or_first_available_variant.id }}"
        data-gift-wrap-variant-id
      >

      <div class="gift-wrap__inputs">
        <input
          type="text"
          name="properties[To]"
          id="gift-to"
          placeholder="{{ section.settings.placeholder_to | default: "Recipient's name" }}"
          class="gift-wrap__input field__input"
          required
          data-gift-wrap-to
        />

        <input
          type="text"
          name="properties[From]"
          id="gift-from"
          placeholder="{{ section.settings.placeholder_from | default: "Sender's name" }}"
          class="gift-wrap__input field__input"
          data-gift-wrap-from
        />

        <textarea
          name="properties[Message]"
          id="gift-message"
          placeholder="{{ section.settings.placeholder_message | default: "Gift message (optional)" }}"
          class="gift-wrap__textarea field__input"
          data-gift-wrap-message
        ></textarea>
      </div>

      <div class="gift-wrap__error-container">
        <p 
          class="gift-wrap__error form__message"
          id="gift-wrap-error"
          style="display:none;"
          role="alert"
        ></p>
      </div>
    </div>
  </div>
{%- endif -%}
